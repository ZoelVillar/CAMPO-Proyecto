2{"DateTime":"2023-10-30T16:33:42.240483Z","Version":2,"CopilotSessionId":{"Guid":"e0c7b339-5524-4bfb-96ab-731770c98fed"},"Request":{"Prompt":"How can I create a new user?","Context":{"VisibleDocuments":[],"PreSelectedSkill":null,"CorrelationId":{"Guid":"00000000-0000-0000-0000-000000000000"}}},"Response":{"Content":"\u0060\u0060\u0060C#\r\npublic bool CrearUsuario(BE_User usuario)\r\n{\r\n    try\r\n    {\r\n        using (var connection = dbConnection.GetConnection())\r\n        {\r\n            dbConnection.OpenConnection();\r\n\r\n\r\n            byte[] userEmail = Encoding.UTF8.GetBytes(SessionManager.getSession.Usuario.key_email); // Obtiene el correo del usuario\r\n            using (var sessionCommand = new SqlCommand(\u0022SET CONTEXT_INFO @UserEmail\u0022, connection))\r\n            {\r\n                sessionCommand.Parameters.AddWithValue(\u0022@UserEmail\u0022, userEmail);\r\n                sessionCommand.ExecuteNonQuery();\r\n            }\r\n\r\n            using (var command = new SqlCommand())\r\n            {\r\n                command.Connection = connection;\r\n                command.CommandText = $\u0022INSERT INTO Users (key_email, user_name, user_lastname, user_password, user_blocked, user_attempts, id_perfil) VALUES (@key_email, @user_name, @user_lastname, @user_password, @user_blocked, @user_attempts, @id_perfil)\u0022; ;\r\n            \r\n                // Par\u00E1metros para los valores a insertar\r\n                command.Parameters.AddWithValue(\u0022@key_email\u0022, usuario.key_email);\r\n                command.Parameters.AddWithValue(\u0022@user_name\u0022, usuario.user_name);\r\n                command.Parameters.AddWithValue(\u0022@user_lastname\u0022, usuario.user_lastname);\r\n                command.Parameters.AddWithValue(\u0022@user_password\u0022, usuario.user_password);\r\n                command.Parameters.AddWithValue(\u0022@user_blocked\u0022, usuario.user_blocked);\r\n                command.Parameters.AddWithValue(\u0022@user_attempts\u0022, usuario.user_attempts);\r\n                command.Parameters.AddWithValue(\u0022@id_perfil\u0022, usuario.id_perfil);\r\n\r\n                int rowsAffected = command.ExecuteNonQuery();\r\n\r\n                if (rowsAffected \u003E 0)\r\n                { return true;}\r\n                else{ return false;}\r\n            }\r\n        }\r\n    }\r\n    catch (SqlException )\r\n    {\r\n        return false;\r\n    }\r\n}\r\n\u0060\u0060\u0060","Type":1,"Status":1,"FollowUpPrompts":null},"SelectedFunctionName":"Generate","LoggedSkillInvocations":null}
